{"version":3,"sources":["../../../src/app/helpers/errorHandling.helper.js"],"names":["message","require","msg","exports","errorHandler","e","status","errorMsg","err","includes","duplicateEmail","duplicatePhone","invalidRequest"],"mappings":";;;;AAAA,IAAMA,UAAUC,QAAQ,uBAAR,EAAiCC,GAAjD;AACAC,QAAQC,YAAR,GAAuB,UAACC,CAAD,EAAqB;AAAA,QAAjBC,MAAiB,uEAAR,GAAQ;;AACxC,QAAIC,iBAAJ;AAAA,QAAcL,YAAd;AACA,QAAI,QAAOG,CAAP,yCAAOA,CAAP,MAAY,QAAhB,EAA0B;AACtBH,cAAMG,CAAN;AACH,KAFD,MAEO;AACH,YAAIA,EAAEL,OAAN,EAAe;AACX,gBAAIQ,MAAMH,EAAEL,OAAZ;AACA,gBAAIQ,IAAIC,QAAJ,CAAa,aAAb,CAAJ,EAAiC;AAC7BP,sBAAMF,QAAQU,cAAd;AACH,aAFD,MAEO,IAAIF,IAAIC,QAAJ,CAAa,aAAb,CAAJ,EAAiC;AACpCP,sBAAMF,QAAQW,cAAd;AACH,aAFM,MAEA,IAAIH,IAAIC,QAAJ,CAAa,aAAb,CAAJ,EAAiC;AACpCP,sBAAMG,EAAEL,OAAR;AACH;AACJ,SATD,MASO;AACHE,kBAAMF,QAAQY,cAAd;AACH;AACJ;AACDL,eAAW;AACP;AACAD,gBAAQA,MAFD;AAGPN,iBAASE;AAHF,KAAX;AAKA,WAAOK,QAAP;AACH,CAxBD","file":"errorHandling.helper.js","sourcesContent":["const message = require(\"../../config/messages\").msg;\r\nexports.errorHandler = (e, status = 400) => {\r\n    let errorMsg, msg;\r\n    if (typeof e != \"object\") {\r\n        msg = e;\r\n    } else {\r\n        if (e.message) {\r\n            let err = e.message;\r\n            if (err.includes(\"email_1 dup\")) {\r\n                msg = message.duplicateEmail;\r\n            } else if (err.includes(\"phone_1 dup\")) {\r\n                msg = message.duplicatePhone;\r\n            } else if (err.includes(\"valid email\")) {\r\n                msg = e.message;\r\n            }\r\n        } else {\r\n            msg = message.invalidRequest;\r\n        }\r\n    }\r\n    errorMsg = {\r\n        // error: e,\r\n        status: status,\r\n        message: msg\r\n    };\r\n    return errorMsg;\r\n};\r\n"]}